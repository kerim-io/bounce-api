# BitBasel MediaSoup Server - Environment Variables
# Copy this file to .env and customize for your environment

# Environment (set to 'production' for production deployment)
# In production, ANNOUNCED_IP is required and server will fail without it
NODE_ENV=development

# Server Configuration
HOST=0.0.0.0
PORT=9001
WEBSOCKET_PORT=9002

# WebRTC Configuration (CRITICAL for production deployment)
# Set this to your server's public IP address in production
# REQUIRED in production (NODE_ENV=production) - server will fail to start without it
ANNOUNCED_IP=

# TURN Server Configuration (recommended for production)
# ~15-20% of users behind symmetric NAT will fail without TURN
# You can use your own Coturn server or a managed service like Twilio
# TURN_URL=turn:turn.example.com:3478
# TURN_USERNAME=your-username
# TURN_CREDENTIAL=your-secret-credential

# Custom STUN server (optional, defaults to Google's)
# STUN_URL=stun:stun.l.google.com:19302

# Room Configuration
MAX_ROOMS=100
MAX_VIEWERS_PER_ROOM=100
IDLE_TIMEOUT_SECONDS=300

# Video Configuration
MAX_BITRATE_KBPS=2500
MIN_BITRATE_KBPS=500
TARGET_BITRATE_KBPS=1500

# Audio Configuration
AUDIO_BITRATE_KBPS=128

# Logging
LOG_LEVEL=info
LOG_TO_CONSOLE=true

# Mediasoup Workers
# Number of mediasoup worker processes (default: CPU count - 1)
# Set to 0 to use default
NUM_WORKERS=0
